(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n(0),s=(n(97),n(10)),r=n.n(s),i=n(18),o=n(56),l=n(83),u=n(12),d=n(150),j=n(151),b=n(152),O=n(161),p=n(162),m=n(153),f=n(82),x=n.n(f),h=n(31),E=n.n(h),S=n(45),g=n(160),v=n(149),y=n(78),M=n.n(y),_=n(79),C=n.n(_),A=n(80),D=n.n(A),w=n(81),L=n.n(w);function U(){var e=Object(i.c)((function(e){return e.selectedMessageIds})),t=Object(i.b)(),n=0===e.length;function a(){return(a=Object(S.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DELETE_SELECTED_MESSAGES"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(S.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"MARK_SELECTED_MESSAGES_READ"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return(r=Object(S.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"MARK_SELECTED_MESSAGES_UNREAD"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"action-bar",children:[Object(c.jsx)(g.a,{title:"Delete",children:Object(c.jsx)(v.a,{className:"action-icon",disabled:n,onClick:function(){return a.apply(this,arguments)},children:Object(c.jsx)(M.a,{})})}),Object(c.jsx)(g.a,{title:"Mark Unread",children:Object(c.jsx)(v.a,{className:"action-icon",disabled:n,onClick:function(){return r.apply(this,arguments)},children:Object(c.jsx)(C.a,{})})}),Object(c.jsx)(g.a,{title:"Mark Read",children:Object(c.jsx)(v.a,{className:"action-icon",disabled:n,onClick:function(){return s.apply(this,arguments)},children:Object(c.jsx)(D.a,{})})}),Object(c.jsxs)(v.a,{id:"compose",color:"primary",onClick:function(){return t({type:"OPEN_COMPOSE_MODAL"})},children:[Object(c.jsx)(L.a,{style:{marginRight:"0.2em"}})," COMPOSE"]})]})}function k(){var e=Object(i.c)((function(e){return e.currentUser})),t=Object(i.b)(),n=Object(i.c)((function(e){return e.selectedMessageIds}));return Object(c.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[Object(c.jsx)(U,{}),Object(c.jsx)("div",{style:{flex:1},onClick:function(){t({type:"UNSELECT_ALL_MESSAGES"})},children:Object(c.jsx)(d.a,{className:"inbox",style:{margin:"0 auto 2em auto"},children:e.inbox.map((function(e){return Object(c.jsx)(R,{className:"email",message:e,onClick:function(c){return function(e,c){c.stopPropagation(),n.includes(e)?t({type:"UNSELECT_MESSAGE",id:e}):t({type:"SELECT_MESSAGE",id:e})}(e._id,c)}},e._id)}))})})]})}function R(e){var t=e.message,n=Object(i.c)((function(e){return e.selectedMessageIds})),a=function(e){var t=new Date(e),n=t.toString();return"".concat(t.getDate()," ").concat(n.split(" ")[1])}(t.sent),s=t.isRead?void 0:"#e0c08b";return Object(c.jsxs)(j.a,{onClick:e.onClick,children:[Object(c.jsx)(b.a,{children:Object(c.jsx)(O.a,{style:{backgroundColor:n.includes(t._id)?"#5D3ED2":s},children:n.includes(t._id)?Object(c.jsx)(x.a,{}):t.from.slice(0,1)})}),Object(c.jsx)(p.a,{style:{maxWidth:"80%",userSelect:"none"},primary:Object(c.jsxs)("span",{className:"subject",style:{opacity:t.isRead?"0.6":"1",fontWeight:t.isRead?"200":"500"},children:[t.from,": ",t.subject]}),secondary:Object(c.jsx)("span",{className:"body",style:{opacity:t.isRead?"0.6":"1",fontWeight:t.isRead?"100":"400"},children:t.content})}),Object(c.jsx)(m.a,{children:Object(c.jsx)(p.a,{secondary:Object(c.jsx)("span",{className:"date",children:a})})})]})}var T=n(36);function N(){Object(i.b)();var e=Object(a.useState)(null),t=Object(T.a)(e,2);t[0],t[1];return Object(c.jsx)("header",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:"assets/mailbox.png"}),Object(c.jsx)("h1",{children:"HackerMail"})]})})}var G=n(40),I=n(159),P=n(155),W=n(157),H=n(156);function K(){Object(u.g)();var e,t,n,s,r,o,l,d=Object(i.b)(),j=Object(i.c)((function(e){return e.composeModalOpen})),b=Object(a.useState)(""),O=Object(T.a)(b,2),p=O[0],m=O[1],f=Object(a.useState)(""),x=Object(T.a)(f,2),h=x[0],g=x[1],v=Object(a.useState)("\n\n\n"),y=Object(T.a)(v,2),M=y[0],_=y[1],C=Object(a.useState)(null),A=Object(T.a)(C,2),D=A[0],w=A[1],L=Object(a.useState)(null),U=Object(T.a)(L,2),k=U[0];U[1];function R(){return(R=Object(S.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(""),g(""),_("\n\n\n"),w(null),d({type:"CLOSE_COMPOSE_MODAL"});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)(I.a,{anchor:"right",open:j,onClose:function(){return d({type:"CLOSE_COMPOSE_MODAL"})},children:["pending"===D&&Object(c.jsx)(P.a,{}),Object(c.jsxs)("div",{className:"compose-drawer",children:[Object(c.jsx)("h2",{children:"Compose Message:"}),Object(c.jsx)(W.a,Object(G.a)({error:null===k||void 0===k||null===(e=k.username)||void 0===e?void 0:e.message,helperText:null===k||void 0===k||null===(t=k.username)||void 0===t?void 0:t.message,disabled:null!==D,style:{marginBottom:"4%"},value:p,onChange:function(e){return m(e.target.value)},id:"username",label:"To",placeholder:"Username",variant:"filled",fullWidth:!0},"variant","outlined")),Object(c.jsx)(W.a,Object(G.a)({error:null===k||void 0===k||null===(n=k.subject)||void 0===n?void 0:n.message,helperText:null===k||void 0===k||null===(s=k.subject)||void 0===s?void 0:s.message,disabled:null!==D,style:{marginBottom:"4%"},value:h,onChange:function(e){return g(e.target.value)},id:"subject",label:"Subject",variant:"filled",fullWidth:!0},"variant","outlined")),Object(c.jsx)(W.a,(l={error:null===k||void 0===k||null===(r=k.content)||void 0===r?void 0:r.message,helperText:null===k||void 0===k||null===(o=k.content)||void 0===o?void 0:o.message,value:M,disabled:null!==D,onChange:function(e){return _(e.target.value)},type:"content",id:"content",label:"Content",variant:"filled",fullWidth:!0},Object(G.a)(l,"variant","outlined"),Object(G.a)(l,"multiline",!0),l)),(null===k||void 0===k?void 0:k.message)&&Object(c.jsx)(H.a,{error:!0,children:k.message}),Object(c.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse",marginTop:"4%"},children:Object(c.jsx)("button",{disabled:null!==D,onClick:function(){return R.apply(this,arguments)},children:"Send"})})]})]})}function B(){return Object(c.jsxs)(l.a,{children:[Object(c.jsx)(N,{}),Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/inbox",component:k}),Object(c.jsx)(u.b,{path:"/",render:function(){return Object(c.jsx)(u.a,{to:"/inbox"})}})]}),Object(c.jsx)(K,{})]})}var q={currentUser:{name:"Guest",inbox:[{_id:1,subject:"Welcome!",content:"Welcome to this demo of a project from the Full Stack extended program! Congratulations on completing the introductory course!",from:"HackerUSA",sent:new Date,isRead:!1},{_id:2,subject:"An Urgent Message",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation",from:"HackerUSA",sent:new Date,isRead:!1},{_id:3,subject:"Straight Spam",content:"Don't event open it",from:"Spamsalot",sent:new Date,isRead:!1},{_id:4,subject:"Some Social Media Updates",content:"That you probably already saw",from:"Facebook",sent:new Date,isRead:!1},{_id:5,subject:"Your dependencies are out of date",content:"And we know you don't care ",from:"GitHub",sent:new Date,isRead:!1},{_id:6,subject:"Weekly Apple News Update",content:"Things are mostly getting worse but at least we have a streaming service now for some reason",from:"Apple",sent:new Date,isRead:!1},{_id:7,subject:"Your order is on it's way!",content:"Thank you for placing your 1,316,033,406th order",from:"Amazon",sent:new Date,isRead:!1}]},composeModalOpen:!1,selectedMessageIds:[]},F=n(84),J=n(11);var Y=Object(o.b)((function(e,t){switch(t.type){case"LOGIN":return Object(J.a)(Object(J.a)({},e),{},{currentUser:t.user});case"LOGOUT":return localStorage.setItem("token",""),Object(J.a)(Object(J.a)({},e),{},{currentUser:null});case"OPEN_COMPOSE_MODAL":return Object(J.a)(Object(J.a)({},e),{},{composeModalOpen:!0});case"CLOSE_COMPOSE_MODAL":return Object(J.a)(Object(J.a)({},e),{},{composeModalOpen:!1});case"SELECT_MESSAGE":return Object(J.a)(Object(J.a)({},e),{},{selectedMessageIds:[].concat(Object(F.a)(e.selectedMessageIds),[t.id])});case"UNSELECT_MESSAGE":return Object(J.a)(Object(J.a)({},e),{},{selectedMessageIds:e.selectedMessageIds.filter((function(e){return e!=t.id}))});case"UNSELECT_ALL_MESSAGES":return Object(J.a)(Object(J.a)({},e),{},{selectedMessageIds:[]});case"DELETE_SELECTED_MESSAGES":return Object(J.a)(Object(J.a)({},e),{},{selectedMessageIds:[],currentUser:Object(J.a)(Object(J.a)({},e.currentUser),{},{inbox:e.currentUser.inbox.filter((function(t){return!e.selectedMessageIds.includes(t._id)}))})});case"MARK_SELECTED_MESSAGES_READ":return Object(J.a)(Object(J.a)({},e),{},{currentUser:Object(J.a)(Object(J.a)({},e.currentUser),{},{inbox:e.currentUser.inbox.map((function(t){return e.selectedMessageIds.includes(t._id)?Object(J.a)(Object(J.a)({},t),{},{isRead:!0}):t}))})});case"MARK_SELECTED_MESSAGES_UNREAD":return Object(J.a)(Object(J.a)({},e),{},{currentUser:Object(J.a)(Object(J.a)({},e.currentUser),{},{inbox:e.currentUser.inbox.map((function(t){return e.selectedMessageIds.includes(t._id)?Object(J.a)(Object(J.a)({},t),{},{isRead:!1}):t}))})})}return e}),q);function z(){return Object(c.jsx)(i.a,{store:Y,children:Object(c.jsx)(B,{})})}r.a.render(Object(c.jsx)(z,{}),document.getElementById("root"))},97:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.4946a1f3.chunk.js.map